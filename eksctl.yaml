apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: eks-monitoring-test-prod-cluster
  region: ap-northeast-2
  version: "1.34"

vpc:
  id: "<VpcId>"
  cidr: "10.50.0.0/16"
  subnets:
    public:
      eks-monitoring-test-prod-subnet-public1-ap-northeast-2a:
        id: "<PublicSubnetId>"
        cidr: "10.50.1.0/24"

managedNodeGroups:
  - name: eks-monitoring-test-nodegroup
    instanceType: t3a.medium
    desiredCapacity: 4
    volumeSize: 100
    volumeEncrypted: true
    ssh:
      publicKeyName: eks-monitoring-test-key
    subnets:
      - <PublicSubnetId>
    privateNetworking: false
    tags:
      LongTermUse: "Y"
      UserEmail: "jonghyun.baik@cj.net"
      Name: "eks-monitoring-test-nodegroup"
    iam:
      withAddonPolicies:
        autoScaler: true
        externalDNS: true
        certManager: true
        ebs: true
        efs: true
        albIngress: true

cloudWatch:
  clusterLogging: {}
